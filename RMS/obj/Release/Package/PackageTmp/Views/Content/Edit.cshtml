@model RMS.Models.Content
@{
    ViewBag.Title = "Edit";
    RMS.Models.ContentMedia __media = ViewBag.Media;
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<ul id="crumbs">
    <li><a href="@Url.Action("Index", "Content", new { Id = Model.IdContentType })">Página Web</a></li>
    <li>Editar Contenido</li>
</ul>
<table border="0" cellpadding="0" cellspacing="0" style="width: 100%; margin: 30px 0px;">
    <tr>
        <td valign="middle">
            <h1 style="margin: 0px; padding: 0px">Editar Contenido</h1>
        </td>
        <td>
            <a href="@Url.Action("Index", "Content", new { Id = Model.IdContentType })" class="button" style="float: right;">
                <img src="@Url.Content("~/Content/img/back.png")" />
                &nbsp;&nbsp;Volver</a>
        </td>
    </tr>
</table>

@using (Html.BeginForm("Edit", "Content", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Contenido</legend>
        <div class="editor-label">
            @Html.Label("Tipo de Contenido:")
        </div>
        <div class="editor-field">
            @Html.DropDownList("IdContentType", String.Empty)
            @Html.ValidationMessageFor(model => model.IdContentType)
        </div>

        <div class="editor-label">
            @Html.Label("Título:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title)
        </div>

        <div class="editor-label">
            @Html.Label("Descripción Corta:")
        </div>
        <div class="editor-field">
            @Html.TextAreaFor(model => model.Intro)
            @Html.ValidationMessageFor(model => model.Intro)
        </div>

        <div class="editor-label">
            @Html.Label("Descripción Larga:")
        </div>
        <div class="editor-field">
            @Html.TextAreaFor(model => model.Description)
            @Html.ValidationMessageFor(model => model.Description)
        </div>

        <div class="editor-label">
            @Html.Label("Precio:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Price)
            @Html.ValidationMessageFor(model => model.Price)
        </div>

        <div class="editor-label">
            @Html.Label("Ciudad:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.City)
            @Html.ValidationMessageFor(model => model.City)
        </div>

        <div class="editor-label">
            @Html.Label("País:")
        </div>
        <div class="editor-field">
            @Html.DropDownList("IdCountry", String.Empty)
            @Html.ValidationMessageFor(model => model.IdCountry)
        </div>


        <div class="editor-label">
            @Html.Label("Activo:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Active)
            @Html.ValidationMessageFor(model => model.Active)
        </div>

        <div class="editor-label">
            @Html.Label("Destacado:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Featured)
            @Html.ValidationMessageFor(model => model.Featured)
        </div>

        <div class="editor-label">
            @Html.Label("Imágen Destacada (formato JPG):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="featured" id="featured" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.image))
                        {
                        <img src="@__media.image" alt="Imagen destacada" title="Imágen destacada" width="150" height="150" />
                        <input type="Hidden" name="metadata.image" value="@__media.image" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <div class="editor-label">
            @Html.Label("Imágen 1 (formato JPG):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="images" id="image1" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.img1))
                        {
                        <img src="@__media.img1" alt="Imagen 1" title="Imágen 1" width="150" height="150" />
                        <input type="Hidden" name="metadata.img1" value="@__media.img1" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <div class="editor-label">
            @Html.Label("Imágen 2 (formato JPG):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="images" id="image2" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.img2))
                        {
                        <img src="@__media.img2" alt="Imagen 2" title="Imágen 2" width="150" height="150" />
                        <input type="Hidden" name="metadata.img2" value="@__media.img2" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <div class="editor-label">
            @Html.Label("Imágen 3 (formato JPG):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="images" id="image3" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.img3))
                        {
                        <img src="@__media.img3" alt="Imagen 3" title="Imágen 3" width="150" height="150" />
                        <input type="Hidden" name="metadata.img3" value="@__media.img3" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <div class="editor-label">
            @Html.Label("Imágen 4 (formato JPG):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="images" id="image4" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.img4))
                        {
                        <img src="@__media.img4" alt="Imagen 4" title="Imágen 4" width="150" height="150" />
                        <input type="Hidden" name="metadata.img4" value="@__media.img4" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <div class="editor-label">
            @Html.Label("Descargable (formato PDF):")
        </div>
        <div class="editor-field">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="file" name="pdf" id="pdf" /></td>
                    <td>@if (!String.IsNullOrEmpty(__media.pdf))
                        {
                        <a href="@__media.pdf">Descargar PDF</a>
                        <input type="Hidden" name="metadata.pdf" value="@__media.pdf" />
                        }
                    </td>
                </tr>
            </table>
        </div>
        <input type="Hidden" name="Timestamp" value="@Model.Timestamp" />
        <p>
            <input type="submit" value="Editar" />
        </p>
    </fieldset>
}

<table border="0" cellpadding="0" cellspacing="0" style="width: 100%; margin: 30px 0px;">
    <tr>
        <td valign="middle"></td>
        <td>
            <a href="@Url.Action("Index", "Content", new { Id = Model.IdContentType })" class="button" style="float: right;">
                <img src="@Url.Content("~/Content/img/back.png")" />
                &nbsp;&nbsp;Volver</a>
        </td>
    </tr>
</table>
<script type="text/javascript">
    $.cleditor.defaultOptions.width = 600;
    $("textarea").cleditor();
</script>
