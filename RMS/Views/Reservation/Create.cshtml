@model RMS.Models.ReservationModel
@{
    ViewBag.Title = "Create";
}
<h2>
    Create</h2>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Reservation</legend>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.IdCustomer, "Customer")
        </div>
        <div class="editor-field">
            @Html.DropDownListFor(model => model.Trip.IdCustomer, (SelectList)ViewBag.IdCustomer)
            @Html.ValidationMessageFor(model => model.Trip.IdCustomer)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.Arrival)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Trip.Arrival, new { @class = "datepicker" })
            @Html.ValidationMessageFor(model => model.Trip.Arrival)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.Departure)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Trip.Departure, new { @class = "datepicker" })
            @Html.ValidationMessageFor(model => model.Trip.Departure)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.ReservationDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Trip.ReservationDate, new { @class = "datepicker" })
            @Html.ValidationMessageFor(model => model.Trip.ReservationDate)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.Adults)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Trip.Adults)
            @Html.ValidationMessageFor(model => model.Trip.Adults)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.Childrens)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Trip.Childrens)
            @Html.ValidationMessageFor(model => model.Trip.Childrens)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.Price)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Trip.Price)
            @Html.ValidationMessageFor(model => model.Trip.Price)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Trip.IdReservationStatus, "ReservationStatu")
        </div>
        <div class="editor-field">
            @Html.DropDownListFor(model => model.Trip.IdReservationStatus, (SelectList)ViewBag.IdReservationStatus)
            @Html.ValidationMessageFor(model => model.Trip.IdReservationStatus)
        </div>
        <div class="editor-label">
            Habitaciones
        </div>
        <div class="editor-field">
            <table border="0" cellpadding="0" cellspacing="0">
                @foreach (RMS.Models.Room item in (List<RMS.Models.Room>)ViewBag.Rooms)
                {
                    int counter = 0;
                    <tr>
                        <td>
                            <input type="checkbox" id="@item.Id" name="Rooms[@counter].IdRoom" value="@item.Id"  />
                            @item.Name
                        </td>
                        <td>
                            Adultos:&nbsp;
                            <select name="Rooms[@counter].Adultos">
                                @for (int i = 1; i <= item.Capacity; i++)
                                {
                                    <option value="@i">@i</option>    
                                }
                            </select>
                        </td>
                        <td>
                            Infantes:
                            <select name="Rooms[@counter].Infantes">
                                @for (int j = 1; j <= 3; j++)
                                {
                                    <option value="@j">@j</option>    
                                }
                            </select>
                        </td>
                    </tr>
                                counter = counter + 1;
                }
            </table>
        </div>
        <p>
            <input type="submit" value="Create" />
        </p>
    </fieldset>
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
<script type="text/javascript">
    $(".datepicker").datepicker();
</script>
