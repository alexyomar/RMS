@model Regional.Models.Hotel
@{
    ViewBag.Title = "Edit";
}
<h2>
    Crear / Editar Hotel</h2>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        @Html.HiddenFor(model => model.Id)
        <div class="editor-label">
            @Html.Label("Nombre:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </div>
        <div class="editor-label">
            @Html.Label("Descripción:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Description)
            @Html.ValidationMessageFor(model => model.Description)
        </div>
        <div class="editor-label">
            @Html.Label("Dirección:")
        </div>
        <div class="editor-field">
            @Html.TextAreaFor(model => model.Address)
            @Html.ValidationMessageFor(model => model.Address)
        </div>
        <div class="editor-label">
            @Html.Label("Estado:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.IdState)
            @Html.ValidationMessageFor(model => model.IdState)
        </div>
        <div class="editor-label">
            @Html.Label("Números de contacto:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact)
            @Html.ValidationMessageFor(model => model.Contact)
        </div>
        <div class="editor-label">
            @Html.Label("Activo:")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Active)
            @Html.ValidationMessageFor(model => model.Active)
        </div>
        <div class="editor-label">
            @Html.Label("¿Puede ser Cotizado?")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.CanSell)
            @Html.ValidationMessageFor(model => model.CanSell)
        </div>
        <div style="display: none">
            <div class="editor-label">
                @Html.Label("TripAdvisor:")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.TripAdvisor)
                @Html.ValidationMessageFor(model => model.TripAdvisor)
            </div>
            <div class="editor-label">
                @Html.Label("TripAdvisor Ingles:")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.TripAdvisorEng)
                @Html.ValidationMessageFor(model => model.TripAdvisorEng)
            </div>
            <div class="editor-label">
                @Html.Label("URL Google Maps:")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Map)
                @Html.ValidationMessageFor(model => model.Map)
            </div>
        </div>
        <p>
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <input type="submit" value="Guardar cambios" />
                    </td>
                    <td>
                        <div id="loader">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <label id="response" class="green" style="font-size: 12pt;">
                        </label>
                    </td>
                </tr>
            </table>
        </p>
    </fieldset>
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
<script type="text/javascript">

    $('form').submit(function (e) {
        $("#loader").show();
        $(":submit").hide();
        e.preventDefault();
        $.post($(this).attr("action"), $(this).serialize(), function (json) {
            $("#loader").hide();
            $(":submit").show();

            $("#response").show();

            if (json.Success = "true")
                $("#response").html("<br/><br/>*** Contenido guardado ***");
            else {
                $("#response").html("<br/><br/>*** Error al guardar el contenido. ***");
                $("#response").class("red");
            }
            setTimeout(function () {
                $('#response').fadeOut('fast');
            }, 4000);

        }, "json");
    });

</script>
